# ğŸ§¼ GET NEXT LINE ğŸ§¼

íŒŒì¼ ë””ìŠ¤í¬ë¦½í„°ë¡œë¶€í„° ì½í˜€ì§„, ê°œí–‰ìœ¼ë¡œ ëë‚˜ëŠ” í•œ ì¤„ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ ë§Œë“¤ê¸°.   
> ë°”êµ¬ë‹ˆì™€ ë‚˜ëˆ„ê¸°ì™€ í•¨ê»˜í•˜ëŠ” íìŠ¤ì½” ê·¼ë‹ë¦¬..

## ğŸ’ **fd** ğŸ’
* file descriptor, íŒŒì¼ ì‹ë³„ì    

íŒŒì¼ ì‹ë³„ìëŠ” íŒŒì¼ì„ ì—´ì—ˆì„ ë•Œ, ê·¸ íŒŒì¼ì— ë²ˆí˜¸ë¥¼ ë¶€ì—¬í•˜ëŠ” ê²ƒ ì´ë‹¤. íŒŒì¼ëª…ì´ ì•„ë‹ˆë¼ ë¶€ì—¬ëœ ìˆ«ì ê·¸ íŒŒì¼ ì‹ë³„ì ê°’ì„ ê°€ì§€ê³  ì‰½ê²Œ íŒŒì¼ì— ì ‘ê·¼ í•  ìˆ˜ ìˆë‹¤.  
> íŒŒì¼ ì‹ë³„ì 0 ~ 2ì—ëŠ” ìë™ìœ¼ë¡œ ë¶€ì—¬ë˜ëŠ” ê²ƒì´ ìˆë‹¤.  
	fd = 0 : íŒŒì¼ ì…ë ¥ (í‚¤ë³´ë“œ)  
	fd = 1 : íŒŒì¼ ì¶œë ¥ (ëª¨ë‹ˆí„°)   
	fd = 2 : íŒŒì¼ ì˜¤ë¥˜ (ëª¨ë‹ˆí„°)   

## ğŸ’ **íŒŒì¼ ì…ì¶œë ¥** ğŸ’
* open(), read(), close()
### ğŸŒ§ **open í•¨ìˆ˜**
* í—¤ë”íŒŒì¼: <fcntl.h>  
```c
// í˜•ì‹
int open(const char* pathname, int flags[, mode_t mode]); 
// ì‚¬ìš©ë²•
open("filename", ì ‘ê·¼ê¶Œí•œ);  
// ex
fd = open("a.txt", O_RDONLY);
```
* ì ‘ê·¼ê¶Œí•œ  
<img width="622" src="https://user-images.githubusercontent.com/77817094/190886820-87c7a6db-4483-4ec0-8425-dfda6040ce61.png">  

returnê°’ = ì„±ê³µì€ ì–‘ì˜ ì •ìˆ˜(fd), ì‹¤íŒ¨ëŠ” -1

### ğŸŒ§ **read í•¨ìˆ˜**  
* í—¤ë”íŒŒì¼: <unistd.h>  
```c
// í˜•ì‹
ssize_t read(intÂ fd, void*Â buf, size_tÂ nbytes);  
//ì‚¬ìš©ë²•
read(íŒŒì¼ì‹ë³„ì, ì €ì¥í•  ì¥ì†Œ, ì½ì„ í¬ê¸°);  
// ex
reres = read(fd, baguni, BUFFER_SIZE);
```
returnê°’ = ì„±ê³µì€ ì½ì€ ë°”ì´íŠ¸ ìˆ˜, ì‹¤íŒ¨ëŠ” -1

### ğŸŒ§ **closeÂ í•¨ìˆ˜** 
* í—¤ë”íŒŒì¼: <fcntl.h>   
``` c
// í˜•ì‹
int close(int fd);
// ì‚¬ìš©ë²•
close(ë‹«ìœ¼ë ¤ëŠ” íŒŒì¼ì‹ë³„ì)
// ex
close(fd);
```
returnê°’ = ì„±ê³µì€ 0, ì‹¤íŒ¨ëŠ” -1

## ğŸ’ **malloc, free** ğŸ’
* ëŒ•ê¸€ë§ í¬ì¸íŠ¸  
> ìê¸°ê°€ ê°€ë¦¬í‚¤ëŠ” ê³³ì˜ ê°’ì´ freeê°€ ë˜ì–´ì„œ ëŒ•ì²­ì´ê°€ğŸ¤ª ë˜ì–´ë²„ë¦° í¬ì¸í„°

### ğŸŒ§ **mallocí•¨ìˆ˜**
* í—¤ë”íŒŒì¼: <stdlib.h>  

ì´ í•¨ìˆ˜ëŠ” ì§€ì •ëœ í¬ê¸°ì˜ ê³µê°„ì„ í™•ë³´í•˜ê³  void í˜• í¬ì¸í„°ë¥¼ ëŒë ¤ì¤€ë‹¤.  
```c
void* malloc( size_t size );
```

### ğŸŒ§ **freeí•¨ìˆ˜**
* í—¤ë”íŒŒì¼: <stdlib.h>  

ë™ì ìœ¼ë¡œ í• ë‹¹í•œ ë©”ëª¨ë¦¬ ì˜ì—­ì€ í•´ì œí•˜ëŠ” í˜•íƒœë¡œ ë°˜í™˜í•´ì•¼ í•œë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ë‹¤ë¥¸ í”„ë¡œê·¸ë¨ê³¼ ì‹œìŠ¤í…œì„ ì •ìƒì ìœ¼ë¡œ ìš´ì˜í•˜ëŠ”ë° í•„ìš”í•œ ë©”ëª¨ë¦¬ê°€ ì†ì‹¤ë  ìˆ˜ ìˆë‹¤. ë‹¨ê¸°ê°„ë§Œ ì‹¤í–‰í•˜ëŠ” ì‘ìš© í”„ë¡œê·¸ë¨ì˜ ì†ŒëŸ‰ì˜ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¼ë©´ ë¬¸ì œê°€ ì—†ì§€ë§Œ, ì¥ê¸°ê°„ ì‹¤í–‰í•˜ëŠ” ì„œë²„ ë“±ì˜ í”„ë¡œê·¸ë¨ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ê°€ ìˆëŠ” ê²½ìš° ì¹˜ëª…ì ì´ë‹¤. í•˜ì§€ë§Œ ì‹œìŠ¤í…œì´ ìë™ìœ¼ë¡œ ê²½ê³  í•´ì£¼ì§€ ì•Šê¸°ë•Œë¬¸ì— í• ë‹¹í•œ ë©”ëª¨ë¦¬ë¥¼ free() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª…ì‹œì ìœ¼ë¡œ í•´ì œí•´ì•¼ í•¨.
```c
void free( void * memblock );
```


ìŠ¤í… ë°ì´í„° ì½”ë“œ í™

## ğŸ’ **logic** ğŸ’
ë§Œì•½ txt = 123\n456789\nabcd\nefg\0 ì´ë¼ê³  í•œë‹¤ë©´ 
```plaintxt
123  
456789  
abcd  
efg\0  

â˜ğŸ» 
backup : '\0'  
baguni : 123  
	\n45  
backup : 123\n45 -> ë°”êµ¬ë‹ˆ í‘¸ê¸°ì˜ returnê°’  
result : 123\n   -> ë‚˜ëˆ„ê¸°ì—ì„œ í¬ì¸í„° ì´ìš©í•´ì„œ ë°”ê¿ˆ -> gnlì˜ returnê°’  
backup : 45	   -> ë‚˜ëˆ„ê¸°ì˜ returnê°’  
âœŒğŸ»  
backup : 45
baguni : 678  
	9\na  
backup : 456789\na  
return : 456789\n  
backup : a  
ğŸ¤ŸğŸ»   
backup : a
baguni : bcd  
	\nef  
backup : abcd\nef  
result : abcd\n  
backup : ef  
ğŸ––ğŸ» 
backup : ef
baguni : g\0    
backup : efg\0  
result : efg\0  
backup : '\0'
```

## ğŸ’ **bonus part** ğŸ’  
* ì—¬ëŸ¬ê°œì˜ fdê°€ ë“¤ì–´ì™”ì„ ë•Œ, ì²˜ë¦¬í•˜ê¸°  

ì—°ê²°ë¦¬ìŠ¤íŠ¸ë¡œ í•˜ëŠ” ë°©ë²• ë°°ì—´ë¡œ í•˜ëŠ” ë°©ë²•ì´ ìˆëŠ”ë° ë°°ì—´ì„ ì„ íƒí•¨ìœ¼ë¡œ <u>open_maxê°’</u>ì„ í—¤ë”íŒŒì¼ì— ì •ì˜í•˜ì˜€ë‹¤.  

### ğŸŒ§ **logic**
```c
char	*get_next_line(int fd)
{
	char		*result;
	static char	*backup[OPEN_MAX];

	result = NULL;
	if (fd < 0 || BUFFER_SIZE <= 0)
		return (NULL);
	if (!backup[fd])
	{
		backup[fd] = (char *)malloc(sizeof(char) * 1);
		if (!backup[fd])
			return (NULL);
		*backup[fd] = '\0';
	}
	backup[fd] = ft_baguni_pugi(fd, backup[fd]);
	if (!backup[fd])
		return (NULL);
	backup[fd] = ft_na_nugi(&result, backup[fd]);
	return (result);
}
```

### ğŸŒ§ **OPEN_MAX** ğŸŒ§
* ì´ìš©í•  ìˆ˜ ìˆëŠ” ìŠ¤ë ˆë“œ ê°¯ìˆ˜  

ulimitì˜ openfile ìˆ˜ë³´ë‹¤ ë§ì€ ìˆ˜ì˜ ì†Œì¼“í†µì‹ ì„ í•˜ë©´ ì¥ì•  ë°œìƒ.
```bash
# í•˜ë“œë¦¬ë¯¸íŠ¸ í™•ì¸
$ ulimit -Hn
# ì†Œí”„íŠ¸ë¦¬ë¯¸íŠ¸ í™•ì¸
$ ulimit -Sn
# ì „ë°˜ì ì¸ ì‚¬ì´ì¦ˆë“¤ í™•ì¸ ê°€ëŠ¥
$ ulimit -a -H
$ ulimit -a -S
# open files ê°¯ìˆ˜ ë³€ê²½ê°€ëŠ¥
$ ulimit -n ìˆ«ì
```
ulimit ëª…ë ¹ì–´ë¥¼ ì´ìš©í•˜ì—¬ í™•ì¸ê°€ëŠ¥  

